<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

  <modelVersion>4.0.0</modelVersion>
  <artifactId>researchspace</artifactId>
  <groupId>com.github.rspace-os</groupId>
  <packaging>war</packaging>
  <version>2.1.1-SNAPSHOT-${timestamp}</version><!-- appVersionID don't remove this comment it identifies this version -->
  <name>ResearchSpace</name>
  <url>https://www.researchspace.com</url>

  <parent>
    <artifactId>rspace-parent</artifactId>
    <groupId>com.github.rspace-os</groupId>
    <version>2.0.1</version>
  </parent>

  <repositories>
    <repository>
      <id>jitpack.io</id>
      <url>https://jitpack.io</url>
    </repository>
    <repository>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
      <id>central</id>
      <name>Maven Repository Switchboard</name>
      <url>https://repo1.maven.org/maven2</url>
    </repository>
    <repository>
      <id>dice.repository</id>
      <name>dice.repository</name>
      <url>https://raw.github.com/DICE-UNC/DICE-Maven/master/releases</url>
      <releases>
        <enabled>true</enabled>
      </releases>
      <snapshots>
        <enabled>false</enabled>
        <updatePolicy>always</updatePolicy>
        <checksumPolicy>warn</checksumPolicy>
      </snapshots>
    </repository>
  </repositories>

  <build>
    <defaultGoal>install</defaultGoal>
    <finalName>${artifactName}</finalName>
    <plugins>
      <plugin>
        <groupId>org.sonarsource.scanner.maven</groupId>
        <artifactId>sonar-maven-plugin</artifactId>
        <version>3.7.0.1746</version>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.11.0</version>
        <configuration>
          <release>11</release>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-toolchains-plugin</artifactId>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-resources-plugin</artifactId>
        <version>3.1.0</version>
        <configuration>
          <nonFilteredFileExtensions>
            <nonFilteredFileExtension>zip</nonFilteredFileExtension>
            <nonFilteredFileExtension>doc</nonFilteredFileExtension>
          </nonFilteredFileExtensions>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-plugin</artifactId>
        <executions>
          <execution> <!-- default execution skips 'prod'/'prod-test' profile tests -->
            <id>default-test</id>
            <configuration>
              <excludes>
                <exclude>**/EgnyteFileSetupConfigTest.java</exclude>
                <exclude>**/ProdConfigWiringTest.java</exclude>
              </excludes>
            </configuration>
          </execution>
          <execution> <!-- separte execution for egnyte wiring -->
            <id>unit-tests-egnyte-wiring</id>
            <phase>test</phase>
            <goals>
              <goal>test</goal>
            </goals>
            <configuration>
              <includes>
                <include>**/EgnyteFileSetupConfigTest.java</include>
              </includes>
            </configuration>
          </execution>
          <execution> <!-- separate execution for 'prod' profile tests -->
            <id>unit-tests-production</id>
            <phase>test</phase>
            <goals>
              <goal>test</goal>
            </goals>
            <configuration>
              <includes>
                <include>**/ProdConfigWiringTest.java</include>
              </includes>
            </configuration>
          </execution>
          <execution> <!-- for 'dev' profile IT tests -->
            <id>integration-tests</id>
            <phase>integration-test</phase>
            <goals>
              <goal>test</goal>
            </goals>
            <configuration>
              <includes>
                <include>**/*IT.java</include>
              </includes>
              <excludes>
                <!-- run/prod tests  -->
                <exclude>**/RunConfigWiringTestIT.java</exclude>
                <exclude>**/SysAdminConfigControllerMVCIT.java</exclude>
                <exclude>**/SysAdminSupportControllerMVCIT.java</exclude>
                <!-- other problematic tests -->
                <exclude>**/ExportApiControllerMVCIT.java</exclude>
                <exclude>**/CreateMissingUserFoldersForLabAdminsAndPIsIT.java</exclude>
              </excludes>
            </configuration>
          </execution>
          <execution> <!-- for 'run' profile IT tests -->
            <id>integration-tests-run</id>
            <phase>integration-test</phase>
            <goals>
              <goal>test</goal>
            </goals>
            <configuration>
              <includes>
                <include>**/RunConfigWiringTestIT.java</include>
                <include>**/SysAdminConfigControllerMVCIT.java</include>
                <include>**/SysAdminSupportControllerMVCIT.java</include>
              </includes>
            </configuration>
          </execution>
          <execution> <!-- for problematic IT tests -->
            <id>integration-tests-problematic</id>
            <phase>integration-test</phase>
            <goals>
              <goal>test</goal>
            </goals>
            <configuration>
              <includes>
                <include>**/ExportApiControllerMVCIT.java</include>
                <include>**/CreateMissingUserFoldersForLabAdminsAndPIsIT.java</include>
              </includes>
            </configuration>
          </execution>
        </executions>
        <configuration>
          <!-- ${argLine} parameter comes from JaCoCo plugin. -->
          <!-- 'add-opens' required when running on j17, until we upgrade xml jars -->
          <argLine>-Xmx1536m
            --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED
            --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED
            ${argLine}</argLine>
        </configuration>
      </plugin>

      <!-- Configures web context for tomcat -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-war-plugin</artifactId>
        <version>3.3.1</version>
        <configuration>
          <webResources>
            <resource>
              <directory>src/main/webapp/META-INF</directory>
              <filtering>true</filtering>
              <targetPath>META-INF</targetPath>
            </resource>
            <resource>
              <directory>src/main/webapp/WEB-INF</directory>
              <filtering>true</filtering>
              <targetPath>WEB-INF</targetPath>
              <includes>
                <include>security.xml</include>
              </includes>
            </resource>
          </webResources>
          <warSourceExcludes>
            ui/node/**, ui/node_modules/**
          </warSourceExcludes>
        </configuration>
      </plugin>

      <plugin>
        <groupId>com.github.spotbugs</groupId>
        <artifactId>spotbugs-maven-plugin</artifactId>
        <configuration>
          <failOnError>false</failOnError>
          <excludeFilterFile>build-resources/findbugs_exclude_rs.xml</excludeFilterFile>
        </configuration>
        <version>4.2.0</version>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-enforcer-plugin</artifactId>
      </plugin>
      <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-dependency-plugin</artifactId>
          <version>3.1.2</version>
          <configuration>
              <usedDependencies>
                  <!-- these dependencies show up as false positives in the unused dependency list -->
                  <dependency>org.tuckey:urlrewritefilter</dependency> <!-- used but not referenced in code -->
                  <dependency>mysql:mysql-connector-java</dependency> <!-- used at runtime but also needed during compilation as used by another plugin -->
                  <dependency>commons-digester:commons-digester</dependency> <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
                  <dependency>jaxen:jaxen</dependency> <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
                  <dependency>com.fasterxml:classmate</dependency> <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
                  <dependency>org.hibernate:hibernate-ehcache</dependency> <!-- used but not referenced in code -->
                  <dependency>org.jetbrains.kotlin:kotlin-stdlib</dependency> <!-- used for annotations -->
                  <dependency>com.healthmarketscience.jackcess:jackcess</dependency> <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
                  <dependency>org.apache.tika:tika-parsers</dependency> <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
                  <dependency>org.codehaus.woodstox:wstx-asl</dependency> <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
                  <dependency>com.squareup.okhttp3:okhttp</dependency> <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
                  <dependency>org.slf4j:slf4j-log4j12</dependency> <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
                  <dependency>com.lowagie:itext</dependency> <!-- used by javamelody -->
                  <dependency>xalan:xalan</dependency> <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
                  <dependency>net.bull.javamelody:javamelody-core</dependency> <!-- used for monitoring -->
                  <dependency>org.javassist:javassist</dependency> <!-- updates outdated version of transitive dependency -->
                  <dependency>dom4j:dom4j</dependency> <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
                  <dependency>org.apache.commons:commons-dbcp2</dependency> <!-- used but not referenced in code -->
                  <dependency>io.jsonwebtoken:jjwt-impl</dependency> <!-- used but not referenced in code -->
                  <dependency>com.thoughtworks.xstream:xstream</dependency> <!-- used but not referenced in code -->
                  <dependency>org.apache.xmlgraphics:xmlgraphics-commons</dependency> <!-- used but not referenced in code -->
                  <dependency>io.jsonwebtoken:jjwt-jackson</dependency> <!-- used but not referenced in code -->
                  <dependency>org.apache.xmlgraphics:batik-i18n</dependency> <!-- used but not referenced in code -->
                  <dependency>commons-fileupload:commons-fileupload</dependency> <!-- used but not referenced in code -->
                  <dependency>org.apache.xmlgraphics:batik-codec</dependency> <!-- used but not referenced in code -->
                  <dependency>org.apache.xmlgraphics:batik-constants</dependency> <!-- used but not referenced in code -->
                  <dependency>org.quartz-scheduler:quartz</dependency> <!-- used but not referenced in code -->
                  <dependency>org.apache.commons:commons-csv</dependency> <!-- used to upgrade version of transitive dependency -->
              </usedDependencies>
          </configuration>
      </plugin>
      <plugin>
          <groupId>com.diffplug.spotless</groupId>
          <artifactId>spotless-maven-plugin</artifactId>
          <version>${spotless.version}</version>
          <configuration>
              <java>
                  <googleJavaFormat>
                      <version>1.19.2</version>
                      <style>GOOGLE</style>
                      <reflowLongStrings>true</reflowLongStrings>
                  </googleJavaFormat>
              </java>
          </configuration>
          <executions>
              <execution>
                  <goals>
                      <goal>apply</goal>
                  </goals>
                  <phase>compile</phase>
              </execution>
          </executions>
      </plugin>
    </plugins>

    <resources>
      <resource>
        <directory>src/main/resources</directory>

        <filtering>true</filtering>
        <!-- items included specifically as there are some deployment/ subfolders
          we don't want to include -->
        <!-- remember to also edit the prodRelease profile if updating this list -->
        <includes>
          <include>*.*</include>
          <include>formIcons/**</include>
          <include>META-INF/**</include>
          <include>sqlUpdates/**</include>
          <include>scripts/**</include>
          <include>bundles/**</include>
          <include>velocityTemplates/**</include>
          <include>archiveResources/**</include>
          <include>StartUpData/**</include>
          <!-- see Spring application-resources.xml which uses this variable as
            well for deployment-dependent property files. -->
          <include>deployments/${deployment}/**</include>
          <include>deployments/defaultDeployment.properties</include>
        </includes>
      </resource>

      <!-- including this folder in the previous section meant that the large font files could be clipped and therefore not work-->
      <resource>
        <directory>src/main/resources</directory>
        <filtering>false</filtering>
        <includes>
          <include>fonts/*</include>
        </includes>
      </resource>
      <resource>
        <directory>src/main/java</directory>
        <includes>
          <include>**/*.properties</include>
        </includes>
      </resource>
      <resource>
        <directory>src/main/resources</directory>
        <includes>
          <include>ApplicationResources*.properties</include>
        </includes>
        <filtering>false</filtering>
      </resource>
      <resource>
        <directory>target/resources</directory>
        <filtering>true</filtering>
      </resource>
    </resources>

    <testResources>
      <testResource>
        <directory>src/test/resources</directory>
        <filtering>true</filtering>
      </testResource>
      <testResource>
        <directory>src/main/webapp</directory>
        <filtering>true</filtering>
        <includes>
          <include>**/*.xml</include>
        </includes>
      </testResource>
    </testResources>
  </build>

  <dependencies>
    <dependency>
        <groupId>org.hamcrest</groupId>
        <artifactId>hamcrest-all</artifactId>
        <version>${hamcrest.version}</version>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>org.mock-server</groupId>
        <artifactId>mockserver-netty</artifactId>
        <version>5.6.0</version>
        <scope>test</scope>
        <exclusions>
            <exclusion>
                <groupId>com.vaadin.external.google</groupId>
                <artifactId>android-json</artifactId>
            </exclusion>
            <exclusion>
                <groupId>javax.mail</groupId>
                <artifactId>mailapi</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.velocity</groupId>
                <artifactId>velocity-engine-core</artifactId>
            </exclusion>
            <exclusion>
                <artifactId>guava</artifactId>
                <groupId>com.google.guava</groupId>
            </exclusion>
            <exclusion>
                <groupId>com.jayway.jsonpath</groupId>
                <artifactId>json-path</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-collections4</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-lang3</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>joda-time</groupId>
                <artifactId>joda-time</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.google.guava</groupId>
                <artifactId>guava</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.bouncycastle</groupId>
                <artifactId>bcprov-jdk15on</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.google.code.findbugs</groupId>
                <artifactId>jsr305</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.mock-server</groupId>
        <artifactId>mockserver-client-java</artifactId>
        <version>5.6.0</version>
        <scope>test</scope>
        <exclusions>
            <exclusion>
                <groupId>com.vaadin.external.google</groupId>
                <artifactId>android-json</artifactId>
            </exclusion>
            <exclusion>
                <groupId>javax.mail</groupId>
                <artifactId>mailapi</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.velocity</groupId>
                <artifactId>velocity-engine-core</artifactId>
            </exclusion>
            <exclusion>
                <artifactId>guava</artifactId>
                <groupId>com.google.guava</groupId>
            </exclusion>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-lang3</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>edu.kit.datamanager</groupId>
        <artifactId>ro-crate-java</artifactId>
        <version>1.1.0</version>
        <exclusions>
            <exclusion>
                <groupId>org.glassfish</groupId>
                <artifactId>jakarta.json</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.jayway.jsonpath</groupId>
                <artifactId>json-path</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.httpcomponents</groupId>
                <artifactId>httpclient</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-digester</groupId>
                <artifactId>commons-digester</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.dataformat</groupId>
                <artifactId>jackson-dataformat-yaml</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <!-- used at runtime but also needed during compilation as used by another plugin -->
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
        <version>${jdbc.version}</version>
    </dependency>
    <dependency>
        <groupId>commons-beanutils</groupId>
        <artifactId>commons-beanutils</artifactId>
    </dependency>
    <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-collections4</artifactId>
    </dependency>
    <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-dbcp2</artifactId>
        <version>2.9.0</version>
        <exclusions>
            <exclusion>
                <artifactId>xercesImpl</artifactId>
                <groupId>xerces</groupId>
            </exclusion>
            <exclusion>
                <artifactId>commons-collections</artifactId>
                <groupId>commons-collections</groupId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-exec</artifactId>
        <version>1.3</version>
    </dependency>
    <dependency>
        <groupId>commons-logging</groupId>
        <artifactId>commons-logging</artifactId>
        <version>1.2</version>
    </dependency>

    <dependency>
        <groupId>commons-fileupload</groupId>
        <artifactId>commons-fileupload</artifactId>
        <version>${commons.fileupload.version}</version>
        <exclusions>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>javax.mail</groupId>
        <artifactId>javax.mail-api</artifactId>
        <version>${javax-mail-api.version}</version>
    </dependency>
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>javax.servlet-api</artifactId>
        <version>${servlet.version}</version>
        <scope>provided</scope>
    </dependency>
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>jstl</artifactId>
        <version>${jstl.version}</version>
    </dependency>
    <dependency>
        <groupId>org.mnode.ical4j</groupId>
        <artifactId>ical4j</artifactId>
        <version>${ical4j.version}</version>
        <exclusions>
            <exclusion>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-collections4</artifactId>
            </exclusion>
            <exclusion>
              <groupId>org.apache.commons</groupId>
              <artifactId>commons-lang3</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>javax.servlet.jsp</groupId>
        <artifactId>jsp-api</artifactId>
        <version>${jsp.version}</version>
        <scope>provided</scope>
    </dependency>
    <dependency>
        <groupId>software.amazon.awssdk</groupId>
        <artifactId>s3</artifactId>
        <version>${aws.sdk.version}</version>
        <exclusions>
            <exclusion>
                <groupId>io.netty</groupId>
                <artifactId>netty-codec-http</artifactId>
            </exclusion>
            <exclusion>
                <groupId>io.netty</groupId>
                <artifactId>netty-handler</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.httpcomponents</groupId>
                <artifactId>httpcore</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>io.netty</groupId>
        <artifactId>netty-buffer</artifactId>
        <version>${netty.version}</version>
        <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>io.netty</groupId>
        <artifactId>netty-codec</artifactId>
        <version>${netty.version}</version>
        <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>io.netty</groupId>
        <artifactId>netty-codec-http</artifactId>
        <version>${netty.version}</version>
        <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>io.netty</groupId>
        <artifactId>netty-common</artifactId>
        <version>${netty.version}</version>
        <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>io.netty</groupId>
        <artifactId>netty-handler</artifactId>
        <version>${netty.version}</version>
        <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>io.netty</groupId>
        <artifactId>netty-transport</artifactId>
        <version>${netty.version}</version>
        <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-test-util</artifactId>
        <version>2.0.3</version>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>commons-codec</groupId>
        <artifactId>commons-codec</artifactId>
    </dependency>
    <dependency>
      <groupId>com.github.rspace-os</groupId>
      <artifactId>snapgene-java-client</artifactId>
      <version>1.0.1</version>
      <exclusions>
        <exclusion>
          <groupId>com.github.rspace-os</groupId>
          <artifactId>rspace-core-util</artifactId>
        </exclusion>
        <exclusion>
          <groupId>org.slf4j</groupId>
          <artifactId>slf4j-api</artifactId>
        </exclusion>
        <exclusion>
          <groupId>com.jayway.jsonpath</groupId>
          <artifactId>json-path</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-audit</artifactId>
        <version>0.14.1</version>
        <exclusions>
            <exclusion>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-collections4</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-context-support</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.github.rspace-os</groupId>
                <artifactId>rspace-core-util</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.reflections</groupId>
        <artifactId>reflections</artifactId>
        <version>0.9.12</version>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>org.apache.velocity</groupId>
        <artifactId>velocity</artifactId>
        <version>1.7</version>
        <exclusions>
            <exclusion>
                <groupId>commons-lang</groupId>
                <artifactId>commons-lang</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-collections</groupId>
                <artifactId>commons-collections</artifactId>
            </exclusion>
        </exclusions>
    </dependency>

    <dependency>
        <groupId>net.sf.ehcache</groupId>
        <artifactId>ehcache-core</artifactId>
        <version>${ehcache.version}</version>
        <exclusions>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>opensymphony</groupId>
        <artifactId>sitemesh</artifactId>
        <version>${sitemesh.version}</version>
        <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>org.aspectj</groupId>
        <artifactId>aspectjweaver</artifactId>
        <version>${aspectj.version}</version>
    </dependency>
    <dependency>
        <groupId>com.fasterxml.jackson.core</groupId>
        <artifactId>jackson-core</artifactId>
    </dependency>
    <dependency>
        <groupId>com.fasterxml.jackson.core</groupId>
        <artifactId>jackson-annotations</artifactId>
    </dependency>
    <dependency>
        <groupId>com.fasterxml.jackson.core</groupId>
        <artifactId>jackson-databind</artifactId>
    </dependency>
    <dependency>
        <groupId>com.fasterxml.jackson.dataformat</groupId>
        <artifactId>jackson-dataformat-yaml</artifactId>
        <version>${jackson.version}</version>
        <exclusions>
          <exclusion>
            <groupId>org.yaml</groupId>
            <artifactId>snakeyaml</artifactId>
          </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.fasterxml.jackson.dataformat</groupId>
        <artifactId>jackson-dataformat-csv</artifactId>
        <version>${jackson.version}</version>
    </dependency>
    <dependency>
        <!-- used but not referenced in code -->
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-ehcache</artifactId>
        <version>${hibernate.version}</version>
        <exclusions>
            <exclusion>
                <artifactId>ehcache</artifactId>
                <groupId>net.sf.ehcache</groupId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.mattbertolini</groupId>
        <artifactId>liquibase-slf4j</artifactId>
        <version>5.0.0</version>
        <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-test</artifactId>
        <version>${spring.version}</version>
        <optional>true</optional>
    </dependency>
    <dependency>
        <groupId>org.springframework.batch</groupId>
        <artifactId>spring-batch-core</artifactId>
        <version>3.0.9.RELEASE</version>
        <exclusions>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-beans</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-context</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-tx</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework.retry</groupId>
                <artifactId>spring-retry</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-aop</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.thoughtworks.xstream</groupId>
                <artifactId>xstream</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.springframework.batch</groupId>
        <artifactId>spring-batch-test</artifactId>
        <version>3.0.9.RELEASE</version>
        <scope>test</scope>
        <exclusions>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-test</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-jdbc</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-collections</groupId>
                <artifactId>commons-collections</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-aop</artifactId>
        <version>${spring.version}</version>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-jdbc</artifactId>
        <version>${spring.version}</version>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-orm</artifactId>
        <version>${spring.version}</version>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-context-support</artifactId>
        <version>${spring.version}</version>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-webmvc</artifactId>
        <version>${spring.version}</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.security</groupId>
        <artifactId>spring-security-crypto</artifactId>
    </dependency>
    <dependency>
        <!-- used but not referenced in code -->
        <groupId>org.tuckey</groupId>
        <artifactId>urlrewritefilter</artifactId>
        <version>${urlrewrite.version}</version>
    </dependency>
  <dependency>
    <groupId>taglibs</groupId>
    <artifactId>standard</artifactId>
    <version>${jstl.version}</version>
    <scope>runtime</scope>
  </dependency>
    <dependency>
        <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
        <groupId>org.apache.tika</groupId>
        <artifactId>tika-parsers</artifactId>
        <version>1.17</version>
        <exclusions>
            <exclusion>
                <groupId>org.opengis</groupId>
                <artifactId>geoapi</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-compress</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-collections4</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-csv</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-codec</groupId>
                <artifactId>commons-codec</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.google.guava</groupId>
                <artifactId>guava</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.httpcomponents</groupId>
                <artifactId>httpclient</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.httpcomponents</groupId>
                <artifactId>httpcore</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>joda-time</groupId>
                <artifactId>joda-time</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.jsoup</groupId>
                <artifactId>jsoup</artifactId>
            </exclusion>
            <exclusion>
                <groupId>net.sf.ehcache</groupId>
                <artifactId>ehcache-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.beust</groupId>
                <artifactId>jcommander</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.jdom</groupId>
                <artifactId>jdom2</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.bouncycastle</groupId>
                <artifactId>bcpkix-jdk15on</artifactId>
            </exclusion>
            <exclusion>
                <groupId>javax.annotation</groupId>
                <artifactId>javax.annotation-api</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.pdfbox</groupId>
                <artifactId>pdfbox</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.quartz-scheduler</groupId>
                <artifactId>quartz</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.tika</groupId>
                <artifactId>tika-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.healthmarketscience.jackcess</groupId>
                <artifactId>jackcess</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <!-- tika-parsers 1.17 internally-conflicting dependency,
        used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
        <groupId>com.healthmarketscience.jackcess</groupId>
        <artifactId>jackcess</artifactId>
        <version>2.1.8</version>
        <exclusions>
            <exclusion>
                <groupId>commons-logging</groupId>
                <artifactId>commons-logging</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <!-- tika-parsers 1.17 internally-conflicting dependency -->
    <dependency>
        <groupId>org.apache.tika</groupId>
        <artifactId>tika-core</artifactId>
        <version>1.17</version>
    </dependency>
    <dependency>
        <groupId>org.jdom</groupId>
        <artifactId>jdom2</artifactId>
        <version>2.0.6</version>
    </dependency>
    <dependency>
        <groupId>javax.annotation</groupId>
        <artifactId>javax.annotation-api</artifactId>
        <version>1.3.2</version>
    </dependency>
    <dependency>
        <groupId>org.jvnet.staxex</groupId>
        <artifactId>stax-ex</artifactId>
        <version>1.8</version>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>org.apache.shiro</groupId>
        <artifactId>shiro-core</artifactId>
        <version>${shiro.version}</version>
        <exclusions>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.apache.shiro</groupId>
        <artifactId>shiro-web</artifactId>
        <version>${shiro.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.shiro</groupId>
        <artifactId>shiro-spring</artifactId>
        <version>${shiro.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.shiro</groupId>
        <artifactId>shiro-ehcache</artifactId>
        <version>${shiro.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.lucene</groupId>
        <artifactId>lucene-core</artifactId>
        <version>${lucene.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.lucene</groupId>
        <artifactId>lucene-queryparser</artifactId>
        <version>${lucene.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.xmlgraphics</groupId>
        <artifactId>batik-transcoder</artifactId>
        <version>${apache.batik.version}</version>
        <exclusions>
            <exclusion>
                <artifactId>xml-apis</artifactId>
                <groupId>xml-apis</groupId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.xmlgraphics</groupId>
                <artifactId>xmlgraphics-commons</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.apache.xmlgraphics</groupId>
        <artifactId>batik-i18n</artifactId>
        <version>${apache.batik.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.xmlgraphics</groupId>
        <artifactId>batik-codec</artifactId>
        <version>${apache.batik.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.xmlgraphics</groupId>
        <artifactId>batik-constants</artifactId>
        <version>${apache.batik.version}</version>
    </dependency>
    <dependency>
        <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
        <groupId>xalan</groupId>
        <artifactId>xalan</artifactId>
        <version>2.7.2</version>
        <exclusions>
            <exclusion>
                <groupId>xml-apis</groupId>
                <artifactId>xml-apis</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.apache.xmlgraphics</groupId>
        <artifactId>xmlgraphics-commons</artifactId>
        <version>2.7</version>
        <exclusions>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-logging</groupId>
                <artifactId>commons-logging</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-imaging</artifactId>
        <version>1.0-alpha2</version>
    </dependency>
    <dependency>
        <groupId>commons-validator</groupId>
        <artifactId>commons-validator</artifactId>
        <version>1.7</version>
        <exclusions>
            <exclusion>
                <groupId>commons-digester</groupId>
                <artifactId>commons-digester</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>gov.nih.imagej</groupId>
        <artifactId>imagej</artifactId>
        <version>${imagej.version}</version>
    </dependency>
    <dependency>
        <groupId>org.jsoup</groupId>
        <artifactId>jsoup</artifactId>
    </dependency>
    <dependency>
        <groupId>org.quartz-scheduler</groupId>
        <artifactId>quartz</artifactId>
        <version>2.3.2</version>
        <exclusions>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
        </exclusions>
        <!-- spring 3.0.5 does not support quartz2, spring 3.1 does -->
    </dependency>
    <dependency>
        <groupId>net.coobird</groupId>
        <artifactId>thumbnailator</artifactId>
        <version>${thumbnailator.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.pdfbox</groupId>
        <artifactId>pdfbox</artifactId>
        <version>2.0.25</version>
    </dependency>
    <dependency>
        <groupId>com.jayway.jsonpath</groupId>
        <artifactId>json-path</artifactId>
        <version>2.8.0</version>
        <exclusions>
            <exclusion>
                <groupId>org.ow2.asm</groupId>
                <artifactId>asm</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>commons-httpclient</groupId>
        <artifactId>commons-httpclient</artifactId>
        <version>3.1</version>
        <exclusions>
            <exclusion>
                <groupId>commons-logging</groupId>
                <artifactId>commons-logging</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-codec</groupId>
                <artifactId>commons-codec</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.liquibase</groupId>
        <artifactId>liquibase-core</artifactId>
        <version>4.27.0</version>
        <exclusions>
            <exclusion>
                <groupId>ch.qos.logback</groupId>
                <artifactId>logback-classic</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-lang3</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
   <dependency>
      <groupId>org.apache.commons</groupId>
      <artifactId>commons-lang3</artifactId>
      <version>3.14.0</version>
    </dependency>
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-search-orm</artifactId>
        <version>${hibernate-search.version}</version>
        <exclusions>
            <exclusion>
                <groupId>org.jboss.logging</groupId>
                <artifactId>jboss-logging</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.hibernate</groupId>
                <artifactId>hibernate-core</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-validator</artifactId>
        <version>${hibernate.validator.version}</version>
        <exclusions>
            <exclusion>
                <groupId>org.jboss.logging</groupId>
                <artifactId>jboss-logging</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
        <groupId>com.fasterxml</groupId>
        <artifactId>classmate</artifactId>
        <version>1.3.1</version>
    </dependency>
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-envers</artifactId>
        <version>${hibernate.version}</version>
    </dependency>
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-core</artifactId>
        <version>${hibernate.version}</version>
        <exclusions>
            <exclusion>
                <groupId>org.jboss.logging</groupId>
                <artifactId>jboss-logging</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml</groupId>
                <artifactId>classmate</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.javassist</groupId>
        <artifactId>javassist</artifactId>
        <version>${javassist.version}</version>
    </dependency>
    <dependency>
        <groupId>joda-time</groupId>
        <artifactId>joda-time</artifactId>
        <version>2.10.14</version>
    </dependency>

    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-license-server-entities</artifactId>
        <version>0.8.2</version>
        <exclusions>
            <exclusion>
                <groupId>javax.validation</groupId>
                <artifactId>validation-api</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
        </exclusions>
    </dependency>

    <dependency>
        <!-- used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
        <groupId>jaxen</groupId>
        <artifactId>jaxen</artifactId>
        <version>1.1.4</version>
    </dependency>
    <dependency>
        <groupId>xml-apis</groupId>
        <artifactId>xml-apis</artifactId>
        <version>1.0.b2</version>
    </dependency>
    <dependency>
        <groupId>org.apache.velocity</groupId>
        <artifactId>velocity-tools</artifactId>
        <version>2.0</version>
        <exclusions>
            <exclusion>
                <groupId>commons-validator</groupId>
                <artifactId>commons-validator</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-digester</groupId>
                <artifactId>commons-digester</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-collections</groupId>
                <artifactId>commons-collections</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-beanutils</groupId>
                <artifactId>commons-beanutils</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-logging</groupId>
                <artifactId>commons-logging</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.velocity</groupId>
                <artifactId>velocity</artifactId>
            </exclusion>
            <exclusion>
                <groupId>dom4j</groupId>
                <artifactId>dom4j</artifactId>
            </exclusion>
            <exclusion>
                <groupId>antlr</groupId>
                <artifactId>antlr</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <!-- velocity-tools internally-conflicting dependency - used to fix specific
        version for transitive dependencies to satisfy enforcer plugin-->
        <groupId>commons-digester</groupId>
        <artifactId>commons-digester</artifactId>
        <version>1.8</version>
        <exclusions>
            <exclusion>
                <groupId>commons-beanutils</groupId>
                <artifactId>commons-beanutils</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-logging</groupId>
                <artifactId>commons-logging</artifactId>
            </exclusion>
        </exclusions>
    </dependency>

    <dependency>
        <groupId>jcifs</groupId>
        <artifactId>jcifs</artifactId>
        <version>1.3.17</version>
    </dependency>

    <dependency>
        <groupId>com.hierynomus</groupId>
        <artifactId>smbj</artifactId>
        <version>0.11.5</version>
        <exclusions>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.bouncycastle</groupId>
                <artifactId>bcprov-jdk15on</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.mwiede</groupId>
        <artifactId>jsch</artifactId>
        <version>0.2.0</version>
    </dependency>
    <dependency>
        <groupId>com.segment.analytics.java</groupId>
        <artifactId>analytics</artifactId>
        <version>3.1.3</version>
        <exclusions>
            <exclusion>
                <groupId>com.google.code.gson</groupId>
                <artifactId>gson</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.squareup.okhttp3</groupId>
                <artifactId>okhttp</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.jetbrains.kotlin</groupId>
                <artifactId>kotlin-stdlib</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <!-- segment-analytics internally-conflicting dependency,
        used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
        <groupId>com.squareup.okhttp3</groupId>
        <artifactId>okhttp</artifactId>
        <version>4.3.0</version>
        <exclusions>
            <exclusion>
                <groupId>org.jetbrains.kotlin</groupId>
                <artifactId>kotlin-stdlib</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.jetbrains.kotlin</groupId>
                <artifactId>kotlin-stdlib-common</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <!-- used for annotations -->
        <groupId>org.jetbrains.kotlin</groupId>
        <artifactId>kotlin-stdlib</artifactId>
        <version>1.3.61</version>
    </dependency>
    <dependency>
        <groupId>com.box</groupId>
        <artifactId>box-java-sdk</artifactId>
        <version>2.21.0</version>
        <exclusions>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.bouncycastle</groupId>
                <artifactId>bcprov-jdk15on</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>io.jsonwebtoken</groupId>
        <artifactId>jjwt-api</artifactId>
        <version>${jsonwebtoken.version}</version>
    </dependency>
    <dependency>
        <groupId>io.jsonwebtoken</groupId>
        <artifactId>jjwt-impl</artifactId>
        <version>${jsonwebtoken.version}</version>
    </dependency>
    <dependency>
        <groupId>io.jsonwebtoken</groupId>
        <artifactId>jjwt-jackson</artifactId>
        <version>${jsonwebtoken.version}</version>
        <exclusions>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-repository-spi</artifactId>
        <version>1.0.1</version>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-dataverse-adapter</artifactId>
        <version>2.0.1</version>
        <exclusions>
            <exclusion>
                <groupId>com.github.rspace-os</groupId>
                <artifactId>rspace-repository-spi</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.github.rspace-os</groupId>
                <artifactId>rspace-core-util</artifactId>
            </exclusion>
            <exclusion>
                <groupId>xerces</groupId>
                <artifactId>xercesImpl</artifactId>
            </exclusion>
            <exclusion>
                <artifactId>xml-apis</artifactId>
                <groupId>xml-apis</groupId>
            </exclusion>
            <exclusion>
                <artifactId>xmlParserAPIs</artifactId>
                <groupId>xerces</groupId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-web</artifactId>
            </exclusion>
            <exclusion>
                <artifactId>spring-test</artifactId>
                <groupId>org.springframework</groupId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-context</artifactId>
            </exclusion>
            <exclusion>
                <artifactId>jaxen</artifactId>
                <groupId>jaxen</groupId>
            </exclusion>
            <exclusion>
                <groupId>commons-cli</groupId>
                <artifactId>commons-cli</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-codec</groupId>
                <artifactId>commons-codec</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.codehaus.woodstox</groupId>
                <artifactId>wstx-asl</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>joda-time</groupId>
                <artifactId>joda-time</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.jsoup</groupId>
                <artifactId>jsoup</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.projectlombok</groupId>
                <artifactId>lombok</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-logging</groupId>
                <artifactId>commons-logging</artifactId>
            </exclusion>
            <exclusion>
                <groupId>xalan</groupId>
                <artifactId>xalan</artifactId>
            </exclusion>
            <exclusion>
                <groupId>log4j</groupId>
                <artifactId>log4j</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <!-- dataverse-rspace-adaptor internally-conflicting dependency,
         used to fix specific version for transitive dependencies to satisfy enforcer plugin-->
        <groupId>org.codehaus.woodstox</groupId>
        <artifactId>wstx-asl</artifactId>
        <version>3.2.6</version>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-external-auth</artifactId>
        <version>1.1.2</version>
        <exclusions>
            <exclusion>
                <groupId>com.google.guava</groupId>
                <artifactId>guava-jdk5</artifactId>
            </exclusion>
            <exclusion>
                <artifactId>guava</artifactId>
                <groupId>com.google.guava</groupId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-web</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.httpcomponents</groupId>
                <artifactId>httpclient</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.google.guava</groupId>
                <artifactId>guava</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.google.code.findbugs</groupId>
                <artifactId>jsr305</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <!-- used for monitoring -->
        <groupId>net.bull.javamelody</groupId>
        <artifactId>javamelody-core</artifactId>
        <version>1.94.0</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.ldap</groupId>
        <artifactId>spring-ldap-core</artifactId>
        <version>2.3.4.RELEASE</version>
        <exclusions>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-tx</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-beans</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-core</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.springframework.retry</groupId>
        <artifactId>spring-retry</artifactId>
        <version>1.2.5.RELEASE</version>
        <exclusions>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-core</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-core-util</artifactId>
        <version>1.0.1</version>
      <exclusions>
        <exclusion>
          <groupId>commons-io</groupId>
          <artifactId>commons-io</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-core-model</artifactId>
        <version>${rspace-core-model.version}</version>
        <exclusions>
          <exclusion>
            <groupId>com.github.rspace-os</groupId>
            <artifactId>rspace-core-util</artifactId>
          </exclusion>
          <exclusion>
            <groupId>com.github.rspace-os</groupId>
            <artifactId>rspace-audit</artifactId>
          </exclusion>
          <exclusion>
            <groupId>commons-io</groupId>
            <artifactId>commons-io</artifactId>
          </exclusion>
          <exclusion>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
          </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-core-model</artifactId>
        <version>${rspace-core-model.version}</version>
        <scope>test</scope>
        <type>test-jar</type>
        <exclusions>
          <exclusion>
            <groupId>com.github.rspace-os</groupId>
            <artifactId>rspace-core-util</artifactId>
          </exclusion>
          <exclusion>
            <groupId>com.github.rspace-os</groupId>
            <artifactId>rspace-audit</artifactId>
          </exclusion>
          <exclusion>
            <groupId>commons-io</groupId>
            <artifactId>commons-io</artifactId>
          </exclusion>
          <exclusion>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
          </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-mendeley-client</artifactId>
        <version>0.3.2</version>
        <exclusions>
            <exclusion>
              <groupId>org.springframework</groupId>
              <artifactId>spring-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-web</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-webmvc</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.httpcomponents</groupId>
                <artifactId>httpclient</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-log4j12</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.apache.httpcomponents</groupId>
        <artifactId>httpclient</artifactId>
    </dependency>
    <dependency>
        <groupId>org.apache.httpcomponents</groupId>
        <artifactId>httpcore</artifactId>
        <version>4.4.13</version>
    </dependency>
    <dependency>
        <groupId>org.glassfish</groupId>
        <artifactId>javax.json</artifactId>
        <version>1.1.4</version>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-document-conversion-spi</artifactId>
        <version>1.0.1</version>
        <exclusions>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-figshare-adapter</artifactId>
        <version>1.0.1</version>
        <exclusions>
            <exclusion>
                <groupId>com.github.rspace-os</groupId>
                <artifactId>rspace-core-util</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.github.rspace-os</groupId>
                <artifactId>repository-spi</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-dryad-adapter</artifactId>
        <version>1.0.1</version>
        <exclusions>
          <exclusion>
                <groupId>com.github.rspace-os</groupId>
                <artifactId>rspace-repository-spi</artifactId>
          </exclusion>
          <exclusion>
                <groupId>com.github.rspace-os</groupId>
                <artifactId>rspace-core-util</artifactId>
           </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-zenodo-adapter</artifactId>
        <version>0.3.1</version>
        <exclusions>
          <exclusion>
            <groupId>com.github.rspace-os</groupId>
            <artifactId>repository-spi</artifactId>
          </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>protocols-java-client</artifactId>
        <version>1.1.0</version>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>argos-java-client</artifactId>
        <version>0.1.0</version>
        <exclusions>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
          <exclusion>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
          </exclusion><exclusion>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
          </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>dmptool-java-client</artifactId>
        <version>0.2.0</version>
        <exclusions>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>datacite-java-client</artifactId>
        <version>0.1.1</version>
        <exclusions>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-egnyte</artifactId>
        <version>1.0.1</version>
        <exclusions>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-web</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.httpcomponents</groupId>
                <artifactId>httpclient</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-rest-api-utils</artifactId>
        <version>1.3.2</version>
        <exclusions>
            <exclusion>
                <groupId>com.github.rspace-os</groupId>
                <artifactId>rspace-core-util</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-webmvc</artifactId>
            </exclusion>
            <exclusion>
                <groupId>io.github.resilience4j</groupId>
                <artifactId>resilience4j-all</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.junit.jupiter</groupId>
        <artifactId>junit-jupiter-api</artifactId>
    </dependency>
    <dependency>
        <groupId>org.junit.jupiter</groupId>
        <artifactId>junit-jupiter-engine</artifactId>
    </dependency>
    <dependency>
        <groupId>org.junit.vintage</groupId>
        <artifactId>junit-vintage-engine</artifactId>
    </dependency>
    <dependency>
        <groupId>org.junit.jupiter</groupId>
        <artifactId>junit-jupiter-migrationsupport</artifactId>
    </dependency>
    <dependency>
        <groupId>org.junit.jupiter</groupId>
        <artifactId>junit-jupiter-params</artifactId>
    </dependency>
    <dependency>
        <groupId>org.mockito</groupId>
        <artifactId>mockito-junit-jupiter</artifactId>
        <version>3.7.7</version>
        <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.apache.logging.log4j</groupId>
      <artifactId>log4j-1.2-api</artifactId>
      <version>${log4j.version}</version>
    </dependency>

    <dependency>
        <groupId>io.vavr</groupId>
        <artifactId>vavr</artifactId>
    </dependency>
    <!-- https://mvnrepository.com/artifact/org.irods/jargon -->
    <dependency>
        <groupId>org.irods.jargon</groupId>
        <artifactId>jargon-core</artifactId>
        <version>4.3.2.5-RELEASE</version>
        <exclusions>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>log4j</groupId>
                <artifactId>log4j</artifactId>
            </exclusion>
          <exclusion>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.apache.logging.log4j</groupId>
            <artifactId>log4j-core</artifactId>
          </exclusion>
            <exclusion>
                <groupId>commons-codec</groupId>
                <artifactId>commons-codec</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-logging</groupId>
                <artifactId>commons-logging</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.bouncycastle</groupId>
                <artifactId>bcprov-jdk15on</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
            </exclusion>
            <exclusion>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-lang3</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>net.sf.supercsv</groupId>
        <artifactId>super-csv</artifactId>
        <version>2.4.0</version>
    </dependency>
    <dependency>
        <groupId>org.bouncycastle</groupId>
        <artifactId>bcprov-jdk15on</artifactId>
        <version>1.54</version>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-evernote-parser</artifactId>
        <version>1.1.2</version>
        <exclusions>
            <exclusion>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-collections4</artifactId>
            </exclusion>
            <exclusion>
                <groupId>commons-codec</groupId>
                <artifactId>commons-codec</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.glassfish.jaxb</groupId>
        <artifactId>jaxb-runtime</artifactId>
        <version>${jaxb.version}</version>
    </dependency>
    <dependency>
        <groupId>javax.xml.bind</groupId>
        <artifactId>jaxb-api</artifactId>
    </dependency>
    <dependency>
      <groupId>com.sun.xml.bind</groupId>
      <artifactId>jaxb-core</artifactId>
      <version>2.2.11</version>
    </dependency>
    <dependency>
      <groupId>com.sun.xml.bind</groupId>
      <artifactId>jaxb-impl</artifactId>
      <version>2.2.11</version>
    </dependency>
    <dependency>
        <groupId>com.beetstra.jutf7</groupId>
        <artifactId>jutf7</artifactId>
        <version>1.0.0</version>
    </dependency>
    <!-- transitive dependency used by tika and JChemBase, this forces the most up-to-date version  -->
    <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-csv</artifactId>
        <version>1.9.0</version>
    </dependency>
    <dependency>
        <groupId>com.google.guava</groupId>
        <artifactId>guava</artifactId>
        <version>${guava.version}</version>
    </dependency>
    <dependency>
      <groupId>com.google.code.findbugs</groupId>
      <artifactId>annotations</artifactId>
      <version>3.0.1</version>
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>com.google.code.findbugs</groupId>
      <artifactId>jsr305</artifactId>
      <version>3.0.2</version>
      <scope>provided</scope>
    </dependency>
    <dependency>
        <groupId>com.github.rspace-os</groupId>
        <artifactId>rspace-snapgene-adapter</artifactId>
        <version>1.0.1</version>
        <exclusions>
          <exclusion>
              <groupId>com.github.rspace-os</groupId>
              <artifactId>rspace-core-util</artifactId>
          </exclusion>
          <exclusion>
              <groupId>com.jayway.jsonpath</groupId>
              <artifactId>json-path</artifactId>
          </exclusion>
          <exclusion>
              <groupId>org.springframework</groupId>
              <artifactId>spring-web</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
          </exclusion>
          <exclusion>
            <groupId>com.github.rspace-os</groupId>
            <artifactId>rspace-rest-api-utils</artifactId>
          </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>com.thoughtworks.xstream</groupId>
        <artifactId>xstream</artifactId>
        <version>1.4.18</version>
    </dependency>
    <dependency>
      <groupId>org.xhtmlrenderer</groupId>
      <artifactId>flying-saucer-pdf</artifactId>
      <version>9.7.1</version>
      <exclusions>
        <exclusion>
          <groupId>com.google.code.findbugs</groupId>
          <artifactId>jsr305</artifactId>
        </exclusion>
        <exclusion>
          <groupId>org.slf4j</groupId>
          <artifactId>slf4j-api</artifactId>
        </exclusion>
      </exclusions>
    </dependency>

  </dependencies>

  <profiles>
    <!-- builds application but makes no changes to the database at all, for
      testing update scripts -->
    <profile>
      <id>mysql-nochange</id>
      <activation>
        <property>
          <name>environment</name>
          <value>keepdbintact</value>
        </property>
      </activation>
      <properties>
        <context.path>/</context.path>
        <ssl.enabled>false</ssl.enabled>
      </properties>
    </profile>

    <profile>
      <id>testLiquibase</id>
      <activation>
        <property>
          <name>environment</name>
          <value>liquibase</value>
        </property>
      </activation>
      <properties>
        <jdbc.url>jdbc:mysql://localhost:3306/testLiquibaseUpdate?useSSL=false</jdbc.url>
        <!-- apply liquibase changes in liquibase database -->
        <liquibase.context>liquibase-update-test,run</liquibase.context>
      </properties>
    </profile>

    <profile>
      <id>generateDiff</id>
      <build>
        <plugins>
          <plugin>
            <groupId>org.liquibase</groupId>
            <artifactId>liquibase-maven-plugin</artifactId>
            <version>3.3.5</version>
            <configuration>
              <propertyFile>src/main/resources/sqlUpdates/liquibaseConfig/liquibase.properties</propertyFile>
            </configuration>
            <executions>
              <execution>
                <id>diff</id>
                <phase>process-resources</phase>
                <configuration>
                  <skip>${skip.liquibase.diff}</skip>
                  <!-- if doing this on windows need to remove timestamp as has ':'
                    chars which conflict with filepath -->
                  <diffChangeLogFile>${liquibase.changelogdiff.folder}/diffChangeset-${maven.build.timestamp}.xml</diffChangeLogFile>
                </configuration>
                <goals>
                  <goal>diff</goal>
                </goals>
              </execution>
            </executions>
            <dependencies>
              <dependency>
                <groupId>org.liquibase.ext</groupId>
                <artifactId>liquibase-hibernate4.2</artifactId>
                <version>3.4</version>
                <exclusions>
                  <exclusion>
                    <groupId>org.hibernate</groupId>
                    <artifactId>hibernate-envers</artifactId>
                  </exclusion>
                  <exclusion>
                    <groupId>org.hibernate.javax.persistence</groupId>
                    <artifactId>hibernate-jpa-2.0-api</artifactId>
                  </exclusion>
                  <exclusion>
                    <groupId>org.hibernate</groupId>
                    <artifactId>hibernate-entitymanager</artifactId>
                  </exclusion>
                  <exclusion>
                    <groupId>org.hibernate</groupId>
                    <artifactId>hibernate-entitymanager</artifactId>
                  </exclusion>
                </exclusions>
              </dependency>
            </dependencies>
          </plugin>
        </plugins>
      </build>
    </profile>

    <profile>
      <!-- this enables jetty to run in HTTP mode, default -->
      <id>jetty-http</id>
      <activation>
        <property>
          <name>!ssl.enabled</name>
        </property>
      </activation>
      <build>
        <plugins>
          <plugin>
            <groupId>org.eclipse.jetty</groupId>
            <artifactId>jetty-maven-plugin</artifactId>
            <version>${jetty.version}</version>
            <configuration>
              <webApp>
                <contextPath>/</contextPath>
              </webApp>
                            <!--  -1 means no hot redeploy scanning, 0 means hit ENTER to scan, positive int sets the scan interval in secs-->
              <scan>0</scan>
              <scanTargetPatterns>
                <scanTargetPattern>
                  <directory>src/main/webapp/WEB-INF</directory>
                  <excludes>
                    <exclude>**/*.jsp</exclude>
                  </excludes>
                  <includes>
                    <include>**/*.properties</include>
                    <include>**/*.xml</include>
                  </includes>
                </scanTargetPattern>
              </scanTargetPatterns>
            </configuration>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <!-- this enables jetty HTTPS mode with -Dssl.enabled=true -->
      <id>jetty-ssl</id>
      <activation>
        <property>
          <name>ssl.enabled</name>
          <value>true</value>
        </property>
      </activation>
      <build>
        <plugins>
          <plugin>
            <groupId>org.eclipse.jetty</groupId>
            <artifactId>jetty-maven-plugin</artifactId>
            <version>${jetty.version}</version>
            <configuration>
              <jettyXmls>jetty/jetty.xml,jetty/jetty-http.xml,jetty/jetty-ssl.xml,jetty/jetty-https.xml</jettyXmls>
              <webApp>
                <contextPath>/</contextPath>
              </webApp>
                            <!--  -1 means no hot redeploy scanning, 0 means hit ENTER to manually redeploy, positive int sets the scan interval in secs-->
              <scan>0</scan>
              <scanTargetPatterns>
                <scanTargetPattern>
                  <directory>src/main/webapp/WEB-INF</directory>
                  <excludes>
                    <exclude>**/*.jsp</exclude>
                  </excludes>
                  <includes>
                    <include>**/*.properties</include>
                    <include>**/*.xml</include>
                  </includes>
                </scanTargetPattern>
              </scanTargetPatterns>
            </configuration>
                        <dependencies>
                            <dependency>
                                <groupId>org.eclipse.jetty</groupId>
                                <artifactId>jetty-alpn-server</artifactId>
                                <version>${jetty.version}</version>
                            </dependency>
                            <dependency>
                                <groupId>org.eclipse.jetty</groupId>
                                <artifactId>jetty-alpn-java-server</artifactId>
                                <version>${jetty.version}</version>
                            </dependency>
                            <dependency>
                                <groupId>org.eclipse.jetty.http2</groupId>
                                <artifactId>http2-server</artifactId>
                                <version>${jetty.version}</version>
                            </dependency>
                        </dependencies>
          </plugin>
        </plugins>
      </build>
    </profile>

    <!-- makes a clean build of the application, deleting and recreating the
      rspace database, Lucene search indices and runs tests that popoulate the
      DB with data from src/test/resources/sampleData.xl -->
    <profile>
      <id>mysql-clean</id>
      <activation>
        <property>
          <name>environment</name>
          <value>drop-recreate-db</value>
        </property>
      </activation>
      <build>
        <plugins>
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>sql-maven-plugin</artifactId>
            <version>1.5</version>
            <dependencies>
              <!-- specify the dependent jdbc driver here -->
              <dependency>
                <groupId>mysql</groupId>
                <artifactId>mysql-connector-java</artifactId>
                <version>${jdbc.version}</version>
              </dependency>
            </dependencies>
            <!-- this is needed to delete the Liquibase log tables, which aren't
              under hibernate control, after hibernate tool has recreated the schema -->
            <!-- common configuration shared by all executions -->
            <configuration>
              <driver>${jdbc.driverClassName.maven}</driver>
              <url>${jdbc.url.maven}?useSSL=false</url>
              <username>${jdbc.username.maven}</username>
              <password>${jdbc.password.maven}</password>
              <!-- You can comment out username/password configurations and have
                maven to look them up in your settings.xml using ${settingsKey} -->
              <settingsKey>sensibleKey</settingsKey>
              <!--all executions are ignored if -Dmaven.test.skip=true -->
              <skip>${maven.test.skip}</skip>
              <autocommit>true</autocommit>
            </configuration>
            <!--  this drops and creates new DB *before* hibernate-maven
            plugin operates in the process-resources phase. There are several
             tables that are not managed by hibernate, so relying on hibernate
             ddl to delete tables is not sufficient to completely wipe the DB, so
             dropping whole DB and re creating new one here is cleaner -->
            <executions>
              <!-- Why run 2 separate commands rather than use an SQL file?
              This task runs *before* property placeholders are resolved in files (in process-resources phase); putting
              '${jdbc.db.maven}' in an SQL file fails as it is not resolved to the actual database name
              -->
              <execution>
                <id>drop-database</id>
                <phase>initialize</phase>
                <goals>
                  <goal>execute</goal>
                </goals>
                <configuration>
                  <sqlCommand> drop database if exists ${jdbc.db.maven} </sqlCommand>
                  <onError>continue</onError>
                </configuration>
              </execution>
              <execution>
                <id>create-new-database</id>
                <phase>initialize</phase>
                <goals>
                  <goal>execute</goal>
                </goals>
                <configuration>
                  <sqlCommand> create database if not exists ${jdbc.db.maven} collate 'utf8mb4_unicode_ci'</sqlCommand>
                  <onError>continue</onError>
                </configuration>
              </execution>
            </executions>
          </plugin>

          <plugin>
            <groupId>de.juplo</groupId>
            <artifactId>hibernate4-maven-plugin</artifactId>
            <version>1.1.1</version>
            <dependencies>
              <!--   transitive dependency is too old -->
              <dependency>
                <groupId>org.javassist</groupId>
                <artifactId>javassist</artifactId>
                <version>${javassist.version}</version>
              </dependency>
              <dependency>
                <groupId>javax.xml.bind</groupId>
                <artifactId>jaxb-api</artifactId>
                <version>${jaxb.version}</version>
              </dependency>
            </dependencies>
            <executions>
              <execution>
                <goals>
                  <goal>export</goal>
                </goals>
              </execution>
            </executions>
            <configuration>
              <envers>true</envers>
              <format>true</format>
              <force>true</force>
              <type>BOTH</type>
              <target>EXPORT</target>
              <dialect>org.hibernate.dialect.MySQL5InnoDBDialect</dialect>
              <username>${jdbc.username.maven}</username>
              <password>${jdbc.password.maven}</password>
              <url>${jdbc.url.maven}/${jdbc.db.maven}?useSSL=false</url>
              <driverClassName>${jdbc.driverClassName.maven}</driverClassName>
            </configuration>
          </plugin>

          <plugin>
            <artifactId>maven-clean-plugin</artifactId>
            <configuration>
              <verbose>true</verbose>
              <filesets>
                <fileset>
                  <directory>${hibernate.search.index}</directory>
                  <directory>${lucene.attachment.searchIndex}</directory>
                  <followSymlinks>true</followSymlinks>
                  <includes>
                    <include>archive/*</include>
                    <include>pdfs/*</include>
                  </includes>
                  <excludes>
                    <exclude>*</exclude>
                  </excludes>
                </fileset>
              </filesets>
            </configuration>
          </plugin>
        </plugins>
      </build>
      <properties>
        <context.path>/</context.path>
        <ssl.enabled>false</ssl.enabled>
        <jdbc.url>jdbc:mysql://localhost:3306/rspace?useSSL=false</jdbc.url>
      </properties>
    </profile>

    <profile>
      <!-- packages for build for deployment to production -->
      <id>prodRelease</id>
      <activation>
        <property>
          <name>environment</name>
          <value>prodRelease</value>
        </property>
      </activation>
      <build>
        <resources>
          <resource>
            <directory>src/main/resources</directory>
            <filtering>true</filtering>
            <!-- items included specifically as there are some deployment/ subfolders
              we don't want to include -->
            <includes>
              <include>*.*</include>
              <include>formIcons/**</include>
              <include>META-INF/**</include>
              <include>sqlUpdates/**</include>
              <include>scripts/**</include>
              <include>bundles/**</include>
              <include>velocityTemplates/**</include>
              <include>StartUpData/**</include>
              <!-- see Spring application-resources.xml which uses this variable
                as well for deployment-dependent property files. -->
              <include>deployments/defaultDeployment.properties</include>
            </includes>
          </resource>
          <resource>
            <directory>src/main/java</directory>
            <includes>
              <include>**/*.properties</include>
            </includes>
          </resource>
        </resources>
        <plugins>
          <plugin>
            <groupId>com.ruleoftech</groupId>
            <artifactId>markdown-page-generator-plugin</artifactId>
            <version>0.6</version>
            <executions>
              <execution>
                <phase>process-sources</phase>
                <configuration>
                  <inputDirectory>DevDocs/public</inputDirectory>
                  <outputDirectory>${project.build.directory}/htmlDocs/</outputDirectory>
                </configuration>
                <goals>
                  <goal>generate</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-enforcer-plugin</artifactId>
            <executions>
              <execution>
                <id>enforce-release-dependencies</id>
                <goals>
                  <goal>enforce</goal>
                </goals>
                <configuration>
                  <rules>
                    <dependencyConvergence/>
                    <requireReleaseDeps/>
                    <requireReleaseVersion/>
                  </rules>
                </configuration>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>

      <properties>
        <context.path>/</context.path>
      </properties>
    </profile>

    <!-- Dummy profile setting up argLine property that is referred by surefire plugin -->
    <profile>
      <id>noCodeCoverage</id>
      <activation>
        <property>
          <name>!enableTestCoverage</name>
        </property>
      </activation>
      <properties>
        <argLine></argLine>
      </properties>
    </profile>

    <!-- Runs code coverage analysis. This implicitly set up argLine property. -->
    <profile>
      <id>codeCoverage</id>
      <activation>
        <property>
          <name>enableTestCoverage</name>
        </property>
      </activation>
      <build>
        <plugins>
          <plugin>
            <groupId>org.jacoco</groupId>
            <artifactId>jacoco-maven-plugin</artifactId>
            <version>0.8.8</version>
            <executions>
              <execution>
                <id>default-prepare-agent</id>
                <goals>
                  <goal>prepare-agent</goal>
                </goals>
              </execution>
              <execution>
                <id>default-prepare-agent-integration</id>
                <goals>
                  <goal>prepare-agent-integration</goal>
                </goals>
              </execution>
              <execution>
                <id>default-report</id>
                <goals>
                  <goal>report</goal>
                </goals>
              </execution>
              <execution>
                <id>default-report-integration</id>
                <goals>
                  <goal>report-integration</goal>
                </goals>
              </execution>
              <execution>
                <id>default-check</id>
                <goals>
                  <goal>check</goal>
                </goals>
                <configuration>
                  <rules></rules>
                </configuration>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>

    <!-- generating react dist files, with npm dependencies downloaded through npm install or npm ci -->
    <profile>
      <id>generateReactDist-useNpmCi</id>
      <activation>
        <property>
          <name>generateReactDist</name>
          <value>clean</value>
        </property>
      </activation>
      <properties>
        <npm.dependencies.collection.arg>ci</npm.dependencies.collection.arg> <!-- overrides default value -->
      </properties>
    </profile>
    <profile>
      <id>generateReactDistFiles</id>
      <activation>
        <property>
          <name>generateReactDist</name>
        </property>
      </activation>
      <build>
        <plugins>
          <plugin>
            <groupId>com.github.eirslett</groupId>
            <artifactId>frontend-maven-plugin</artifactId>
            <version>1.8.0</version>
            <configuration>
              <nodeVersion>v17.2.0</nodeVersion>
              <workingDirectory>src/main/webapp/ui</workingDirectory>
            </configuration>
            <executions>
              <execution>
                <id>Install node and npm locally to the project</id>
                <goals>
                  <goal>install-node-and-npm</goal>
                </goals>
              </execution>
              <execution>
                <id>Collect npm dependencies</id>
                <goals>
                  <goal>npm</goal>
                </goals>
                <configuration>
                  <arguments>${npm.dependencies.collection.arg}</arguments>
                </configuration>
              </execution>
              <execution>
                <id>Build react dist files</id>
                <goals>
                  <goal>npm</goal>
                </goals>
                <configuration>
                  <arguments>run build</arguments>
                </configuration>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>

    <profile>
      <id>rename-static-resources-with-MD5</id>
      <activation>
        <property>
          <name>renameResourcesMD5</name>
        </property>
      </activation>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-antrun-plugin</artifactId>
            <version>1.7</version>
            <executions>
              <execution>
                <goals>
                  <goal>run</goal>
                </goals>
                <id>rename-static-resources-with-md5</id>
                <phase>process-resources</phase>
                <configuration>
                  <target>
                    <ant antfile="build-resources/md5-ant.xml" inheritRefs="true">
                      <target name="all"/>
                    </ant>
                  </target>
                </configuration>
              </execution>

              <execution>
                <goals>
                  <goal>run</goal>
                </goals>
                <id>replace-static-resources-references-with-md5</id>
                <phase>package</phase>
                <configuration>
                  <target>
                    <!-- replace references to original files with ones having md5
                      extension -->
                    <replace
                      dir="${project.build.directory}/${project.build.finalName}"
                      replacefilterfile="${project.build.directory}/md5_final_replace_tokens.properties">
                      <include name="**/*.jsp" />
                      <include name="**/*.tag" />
                      <include name="**/*.js" />
                      <include name="**/*.css" />
                      <include name="**/*.htm" />
                      <include name="**/*.html" />
                      <include name="**/integration-static-data*.json"/>
                      <include name="WEB-INF/urlrewrite.xml" />
                    </replace>
                    <!-- remove non-md5 versions of the files to facilitate testing -->
                    <delete>
                      <fileset
                        dir="${project.build.directory}/${project.build.finalName}">
                        <includesfile
                          name="${basedir}/build-resources/resources_to_MD5_rename.txt" />
                      </fileset>
                    </delete>
                  </target>
                </configuration>
              </execution>
            </executions>
          </plugin>

          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-war-plugin</artifactId>
            <version>3.3.1</version>
            <configuration>
              <webResources>
                <resource>
                  <directory>src/main/webapp/META-INF</directory>
                  <filtering>true</filtering>
                  <targetPath>META-INF</targetPath>
                </resource>
                <resource>
                  <directory>src/main/webapp/WEB-INF</directory>
                  <filtering>true</filtering>
                  <targetPath>WEB-INF</targetPath>
                  <includes>
                    <include>security.xml</include>
                  </includes>
                </resource>
                <resource>
                  <directory>${project.build.directory}/md5_final_files</directory>
                  <includes>
                    <include>**/*</include>
                  </includes>
                </resource>
              </webResources>
            </configuration>
            <executions>
              <execution>
                <!-- disable the default-war build step. -->
                <id>default-war</id>
                <phase>none</phase>
              </execution>
              <execution>
                <!-- in prepare-package create an exploded war -->
                <id>war-exploded</id>
                <phase>prepare-package</phase>
                <goals>
                  <goal>exploded</goal>
                </goals>
              </execution>
              <execution>
                <!-- build the war at the end of the package phase, but don't copy
                  resources again -->
                <id>custom-build-war</id>
                <phase>package</phase>
                <goals>
                  <goal>war</goal>
                </goals>
                <configuration>
                  <warSourceExcludes>**/*</warSourceExcludes>
                </configuration>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>

  </profiles>

  <properties>
    <!-- jetty -->
    <jetty.version>10.0.18</jetty.version>

    <!-- Application settings -->
    <artifactName>${project.artifactId}-${project.version}</artifactName>
    <timestamp>${maven.build.timestamp}</timestamp>
    <copyright.year>2024</copyright.year>
    <dao.framework>hibernate</dao.framework>
    <web.framework>spring</web.framework>
    <context.path>/</context.path>
    <RS.logLevel>WARN</RS.logLevel>
    <spring.logLevel>WARN</spring.logLevel>
    <hibernate.logLevel>ERROR</hibernate.logLevel>

    <hibernate.search.index>FTsearchIndices</hibernate.search.index>
    <lucene.attachment.searchIndex>LuceneFTsearchIndices</lucene.attachment.searchIndex>
    <!-- default location for high-level logs -->
    <RSRequest.log.file>RSLogs.txt</RSRequest.log.file>
    <RSRequest.log.maxFileSize>5Mb</RSRequest.log.maxFileSize>
    <!-- Location of security log -->
    <RSSecurityEvent.log.file>SecurityEvents.txt</RSSecurityEvent.log.file>
    <RSfailedEmails.log.file>emailErrors.txt</RSfailedEmails.log.file>
    <!-- choice of deployment.properties file - must be name of subfolder in 'deployments' -->
    <deployment>dev</deployment>
    <!-- default location of external properties file is actually the classpath one! -->
    <propertyFileDirPlaceholder>classpath:deployments/${deployment}</propertyFileDirPlaceholder>

    <!-- set this to true to create groups in run profile -->
    <groupcreation>false</groupcreation>

    <!-- liquibase default settings -->
    <skip.liquibase.diff>true</skip.liquibase.diff>
    <liquibase.changelogdiff.folder>generatedDBChangeSets</liquibase.changelogdiff.folder>

    <!-- Testing dependency versions -->
    <jsp.version>2.2</jsp.version>


    <!-- Database settings -->
    <jdbc.version>5.1.47</jdbc.version>
    <jdbc.driverClassName.maven>com.mysql.jdbc.Driver</jdbc.driverClassName.maven>
    <jdbc.username.maven>rspacedbuser</jdbc.username.maven>
    <jdbc.password.maven>rspacedbpwd</jdbc.password.maven>
    <jdbc.url.maven>jdbc:mysql://localhost:3306</jdbc.url.maven>
    <!-- this is the name of the test db to drop/recreate -->
    <jdbc.db.maven>rspace</jdbc.db.maven>

    <hibernate.dialect>org.hibernate.dialect.MySQLDialect</hibernate.dialect>
    <!-- override these at runtime to show logging -->
    <hibernate.formatSql>false</hibernate.formatSql>
    <hibernate.showSqlComments>false</hibernate.showSqlComments>
    <hibernate.sqlLogLevel>INFO</hibernate.sqlLogLevel>
    <hibernate.showStats>false</hibernate.showStats>
    <hibernate.statsLogLevel>INFO</hibernate.statsLogLevel>
    <hibernate.showSQL>false</hibernate.showSQL>

    <aspectj.version>1.9.7</aspectj.version>
    <apache.batik.version>1.14</apache.batik.version>
    <aws.sdk.version>2.16.63</aws.sdk.version>
    <commons.fileupload.version>1.4</commons.fileupload.version>
    <ehcache.version>2.6.11</ehcache.version>
    <ehcache.web.version>2.0.4</ehcache.web.version>
    <guava.version>23.4-jre</guava.version>
    <javassist.version>3.24.0-GA</javassist.version>
    <jsonwebtoken.version>0.11.2</jsonwebtoken.version>
    <jstl.version>1.1.2</jstl.version>
    <lucene.version>5.5.5</lucene.version>
    <netty.version>4.1.63.Final</netty.version>
    <rspace-core-model.version>2.1.0</rspace-core-model.version>
    <servlet.version>3.1.0</servlet.version>
    <sitemesh.version>2.4.2</sitemesh.version>
    <urlrewrite.version>4.0.3</urlrewrite.version>
    <spotless.version>2.43.0</spotless.version>
    <npm.dependencies.collection.arg>install --force</npm.dependencies.collection.arg>

    <!--Sonar properties-->
    <sonar.coverage.exclusions>**/__tests__/**,**/tinymce/tinymce516/**,**/scripts/pdfjs/**,**/scripts/handsontable-ruleJS/**,**/egnyte/egnyte.js</sonar.coverage.exclusions>
    <sonar.projectKey>ResearchSpace-ELN_rspace-web</sonar.projectKey>
  </properties>

</project>
